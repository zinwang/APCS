

# 10323 - Factorial! You Must be Kidding!!!

解題心得
==================================

題目網址在這: 

[https://uva.onlinejudge.org/index.php?option=onlinejudge&page=show_problem&problem=1264](https://uva.onlinejudge.org/index.php?option=onlinejudge&page=show_problem&problem=1264)

<br />

首先，觀察題目


>
>factorial(0) = 1<br />
>factorial(n) = n ∗ f actorial(n − 1).
>

<br />

看到這個遞迴式就知道是乘階了!
<br />

>Input<br />
The input file contains several lines of input. Each line contains a single integer n. No integer has more
than six digits. Input is terminated by end of file.

<br />

>Output<br />
For each line of input you should output a single line. This line will contain a single integer n! if the
value of n! fits within the unsigned long integer of Arif’s computer. Otherwise the line will contain one
of the following two words
Overflow! (When n! > 6227020800)
Underflow! (When n! < 10000)

<br />

所以說，就是判斷n!的範圍，如果n!>6227020800就印出Overflow!，<br />
n!<10000就印出Underflow!，<br />
若10000<=n<=6227020800就印出n!
<br />

於是，照著這個邏輯生出了這個code <br />
6227020800剛好是13!<br />

```cpp
#include <bits/stdc++.h>


using namespace std;

long long f[100];


int main(int argc, char const *argv[])
{
	int n;
	while(cin>>n){
		f[0]=1;
		f[1]=1;
		
		if(n<=13){
			for(int i=2;i<=n;i++){ //遞迴
				f[i]=f[i-1]*i;
				
			}
		}




		if(n>13) //13!=6227020800
			cout<<"Overflow!\n";
		else if(f[n]<10000)
			cout<<"Underflow!\n";
		else
			cout<<f[n]<<"\n";



	}
	return 0;
}




```




<br />
結果......
<br />

<br />

BUG!!!!!!!!!!!!!!
===============================================

到底為甚麼!!!!!!!!!!!!!!!...............<br />
......<br />


<br />

後來發現.......n竟然有負數!!!!!!You Must be Kidding!!!<br />

從小到大沒聽過負的階層<br />

查了一下

[http://www.algorithmist.com/index.php/UVa_10323](http://www.algorithmist.com/index.php/UVa_10323)

<br />
F(-1)當作F(0)/0, F(-2)當作F(-1)/-1<br />
於是F(-1)為正無限大，Overflow!<br />
F(-2)負無窮小，Underflow!<br />

<br />

>F(-2* N-1) 為正無限大，Overflow!<br />
>F(-2* N) 負無窮小，Underflow!<br />


於是修改一下code:
<br />

```cpp
#include <bits/stdc++.h>


using namespace std;

long long f[100];


int main(int argc, char const *argv[])
{
	int n;
	while(cin>>n){
		f[0]=1;
		f[1]=1;
		
		if(n>0&&n<=13){
			for(int i=2;i<=n;i++){
				f[i]=f[i-1]*i;
				
			}
		}



		if(n>13||(n<0&&(-1*n)%2==1))
			cout<<"Overflow!\n";
		else if(f[n]<10000||(n<0&&(-1*n)%2==0))
			cout<<"Underflow!\n";
		else
			cout<<f[n]<<"\n";



	}
	return 0;
}

```


就AC啦!!
----------------------------

<br />


以上若有不足之處，歡迎補充與指教!
==============================================

<br />
<br />


























